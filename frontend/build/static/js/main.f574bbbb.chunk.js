(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{117:function(e,t,a){e.exports=a.p+"static/media/blur-data-definition-261779.ac262c1f.gif"},119:function(e,t){e.exports="data:image/gif;base64,R0lGODlhEAAQAIQAAASCBITChFSqVMTixCSSJKzWrOTy5Gy2bBSKFJTKlDSaNPT69GSyZNTq1LzevHy+fAyGDIzGjFyuXMzmzCyWLLTatOz27HS6dByOHJzOnDyePPz+/P///wAAAAAAAAAAACH5BAEAABwALAAAAAAQABAAAAVTICeOpLgcVamKFwAcK+m4ABGbGO3cHEPDtwoNs7hZcq7BqLEjSX6jCQSQGRVohM0ICUhwLAiachShdQW0hypgplG06zZgcmPTAjyOXQHnZQQGMSEAOw=="},124:function(e,t,a){e.exports=a(221)},157:function(e,t,a){},174:function(e,t,a){},207:function(e,t,a){},219:function(e,t,a){},220:function(e,t,a){},221:function(e,t,a){"use strict";a.r(t);a(125);var n=a(0),r=a.n(n),c=a(23),o=a.n(c),i=a(13),s=a(86),u=a(110),l=a.n(u),d=a(111),p=a.n(d),m=a(11);s.a.use(l.a).use(p.a).use(m.b).init({fallbackLng:"fi",debug:!0,interpolation:{escapeValue:!1}});var f=s.a,g=(a(157),a(27)),h=a(45),b=a(224),v=a(225),y=a(233),E=a(234),w=a(222),O=a(12),A={id:1,name:"FR-FI",longName:"Ranska",source:"fr",target:"fi"},x=function(e){return{type:"SET_LANGUAGE_PAIR",data:e}},N=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:A,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"SET_LANGUAGE_PAIR":return Object(O.a)({},t.data);case"RESET":return{};default:return e}},j=[{id:1,name:"FR-FI",longName:"Ranska",source:"fr",target:"fi"},{id:2,name:"IT-FI",longName:"Italia",source:"it",target:"fi"},{id:3,name:"FR-EN",longName:"French",source:"fr",target:"en"}],C={setLanguagePair:x},k=Object(i.b)(function(e){return{user:e.user,languagePair:e.languagePair}},C)(function(e){var t=Object(m.c)().t,a=j,c=a.filter(function(t){return t.id!==e.languagePair.id}),o=function(t){var n=Number(t.target.name),r=a.find(function(e){return e.id===n});e.setLanguagePair(r),window.localStorage.setItem("languagePair",JSON.stringify(r)),e.changeLanguage(r.target),window.location.reload()};return r.a.createElement(y.a,{collapseOnSelect:!0,expand:"lg",sticky:"top",bg:"light"},r.a.createElement(y.a.Brand,{href:"/"},t("VocabularyAppName")),r.a.createElement(y.a.Toggle,{"aria-controls":"responsive-navbar-nav"}),r.a.createElement(y.a.Collapse,{id:"responsive-navbar-nav"},r.a.createElement(E.a,{className:"mr-auto"},r.a.createElement(E.a.Link,{href:"/chapters","data-cy":"chapters-link"},t("ChaptersLink")),r.a.createElement(E.a.Link,{href:"/dictionary","data-cy":"dictionary-link"},t("DictionaryLink")),e.user.username?r.a.createElement(E.a.Link,{href:"/myvocabulary","data-cy":"my-vocabulary-link"},t("MyVocabularyLink")):null,r.a.createElement(E.a.Link,{href:"/about","data-cy":"about-link"},t("AboutLink"))),r.a.createElement(E.a,null,e.user.username?r.a.createElement(n.Fragment,null,r.a.createElement(y.a.Text,{"data-cy":"username"},e.user.username),r.a.createElement(E.a.Link,{href:"/logout","data-cy":"logout-link"},t("LogoutLink"))):r.a.createElement(n.Fragment,null,r.a.createElement(E.a.Link,{href:"/register","data-cy":"register-link"},t("RegisterLink")),r.a.createElement(E.a.Link,{href:"/login","data-cy":"login-link"},t("LoginLink"))),r.a.createElement(w.a,{title:e.languagePair.name},c.map(function(e){return r.a.createElement(w.a.Item,{key:e.id,name:e.id,onClick:o},e.name)})))))}),S=a(223),T=Object(i.b)(function(e){return{notification:e.notification}})(function(e){return null===e.notification?null:r.a.createElement(S.a,{variant:e.notification.messageType},e.notification.message)}),W=function(e){return r.a.createElement("div",null,r.a.createElement(k,{changeLanguage:e.changeLanguage}),r.a.createElement(b.a,null,r.a.createElement(v.a,null,r.a.createElement(T,null)),e.children))},P=a(235),R=(a(174),a(117)),L=a.n(R),M={setLanguagePair:x},_=Object(h.e)(Object(i.b)(function(e){return{languagePair:e.languagePair}},M)(function(e){var t=Object(m.c)().t,a=j,n=function(t){var n=Number(t.target.name),r=a.find(function(e){return e.id===n});e.setLanguagePair(r),window.localStorage.setItem("languagePair",JSON.stringify(r)),e.changeLanguage(r.target),e.history.push("/chapters")};return r.a.createElement(v.a,null,r.a.createElement("img",{id:"background",src:L.a,alt:"French Book"}),r.a.createElement("div",{className:"text"},r.a.createElement("h1",null,t("SelectLanguageMessage")),r.a.createElement("div",{id:"languageSelection"},r.a.createElement(P.a,null,a.map(function(e){return r.a.createElement(P.a.Item,{action:!0,key:e.id,name:e.id,onClick:n},e.longName)})))))})),D=a(1),I=a.n(D),B=a(5),F=a(9),V=a(121),U=a(116),G=a(231),H=a(229),z=a(227),J=a(226),Q=a(119),Y=a.n(Q),K=function(e){var t=e.word.pronunciation?"[".concat(e.word.pronunciation,"]"):null,a=e.word.token?"(".concat(e.word.token,")"):null,c={cursor:"pointer"};return r.a.createElement(n.Fragment,null,e.selectable?r.a.createElement("td",null,r.a.createElement("input",{type:"checkbox",name:e.word.id,checked:e.word.selected,onChange:e.toggleChecked})):null,r.a.createElement("td",{"data-cy":"word-lemma",style:c,onClick:function(){return e.showDetails(e.word)}},r.a.createElement("b",null,e.word.lemma)," ",r.a.createElement("i",null,e.word.gender)," ",t," ",a),r.a.createElement("td",{style:c,onClick:function(){return e.showDetails(e.word)}},e.word.translation,e.word.learned?r.a.createElement(J.a,{src:Y.a}):null))},q=function(e){return r.a.createElement("div",null,r.a.createElement(z.a,{borderless:!0,hover:!0,size:"sm"},r.a.createElement("tbody",null,e.words.map(function(t){return r.a.createElement("tr",{key:t.id},r.a.createElement(K,{word:t,selectable:e.selectable,showDetails:e.showDetails,toggleChecked:e.toggleChecked}))}))))},X=a(232),Z=a(228),$=a(20),ee=a(15),te=a.n(ee),ae=function(e){return e.toLowerCase().replace(/[\xe2\xe0\xe1]/g,"a").replace(/[\xea\xe8\xe9\xeb]/g,"e").replace(/[\xee\xef\xec]/g,"i").replace(/[\xf4\xf2]/g,"o").replace(/[\xfb\xf9\xfc]/g,"u").replace(/\xe7/g,"c")},ne=function(e,t){var a=ae(e.lemma),n=ae(t.lemma);return a<n?-1:a>n?1:0},re=function(e,t){var a=ae(e.lemma),n=ae(t.lemma);return a.length<n.length?-1:a<n?-1:a>n?1:0},ce=function(e,t){return t?e.filter(function(e){var a=ae(e.lemma),n=ae(t);return a.startsWith(n)}).sort(function(e,t){return ne(e,t)}):[]},oe=function(e,t){if(!t)return e.sort(function(e,t){return ne(e,t)});var a=e.filter(function(e){var a=ae(e.lemma),n=ae(e.token),r=ae(t);return a.startsWith(r)||n.startsWith(r)}),n=e.filter(function(e){var a=ae(e.lemma),n=ae(e.token),r=ae(t);return a.includes(r)||n.includes(r)}),r=a.sort(function(e,t){return re(e,t)}),c=n.sort(function(e,t){return re(e,t)});return Object($.a)(new Set([].concat(Object($.a)(r),Object($.a)(c))))},ie=function(){var e=window.localStorage.getItem("loggedVocabularyUser");if(e){var t=JSON.parse(e);return{headers:{Authorization:"Token ".concat(t.token)}}}return null},se="/api/words",ue=function(){var e=Object(B.a)(I.a.mark(function e(){var t,a,n=arguments;return I.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t=n.length>0&&void 0!==n[0]?n[0]:se,e.next=3,te.a.get(t);case 3:return a=e.sent,e.abrupt("return",a.data);case 5:case"end":return e.stop()}},e)}));return function(){return e.apply(this,arguments)}}(),le=function(){var e=Object(B.a)(I.a.mark(function e(){var t,a,n=arguments;return I.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t=n.length>0&&void 0!==n[0]?n[0]:se,e.next=3,ue(t);case 3:if(!(a=e.sent)){e.next=14;break}if(!a.next){e.next=11;break}return e.t0=a.results,e.next=9,le(a.next);case 9:return e.t1=e.sent,e.abrupt("return",e.t0.concat.call(e.t0,e.t1));case 11:case 14:return e.abrupt("return",a.results);case 15:case"end":return e.stop()}},e)}));return function(){return e.apply(this,arguments)}}(),de=function(){var e=Object(B.a)(I.a.mark(function e(t,a,n){var r,c;return I.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(t){e.next=2;break}return e.abrupt("return",[]);case 2:return r="".concat(se,"/?startswith=").concat(t,"&source=").concat(a,"&target=").concat(n),e.next=5,le(r);case 5:return c=e.sent,e.abrupt("return",c);case 7:case"end":return e.stop()}},e)}));return function(t,a,n){return e.apply(this,arguments)}}(),pe={getAll:le,getFiltered:de,create:function(){var e=Object(B.a)(I.a.mark(function e(t){var a,n;return I.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return a=ie(),e.next=3,te.a.post("".concat(se,"/"),t,a);case 3:return n=e.sent,e.abrupt("return",n.data);case 5:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}(),update:function(){var e=Object(B.a)(I.a.mark(function e(t,a){var n,r;return I.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n=ie(),e.next=3,te.a.put("".concat(se,"/").concat(t,"/"),a,n);case 3:return r=e.sent,e.abrupt("return",r.data);case 5:case"end":return e.stop()}},e)}));return function(t,a){return e.apply(this,arguments)}}(),remove:function(){var e=Object(B.a)(I.a.mark(function e(t){var a,n;return I.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return a=ie(),e.next=3,te.a.delete("".concat(se,"/").concat(t,"/"),a);case 3:return n=e.sent,e.abrupt("return",n.data);case 5:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}()},me=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"NEW_WORD":return[].concat(Object($.a)(e),[t.data]);case"UPDATE_WORDS":var a=t.data.id,n=Object(O.a)({},t.data);return e.map(function(e){return e.id!==a?e:n});case"DELETE_WORD":var r=e.findIndex(function(e){return e.id===t.data.id}),c=Object($.a)(e);return c.splice(r,1),c;case"INIT_WORDS":return t.data;default:return e}},fe={lemma:"",translation:"",pos:"ADJ",gender:"",token:"",pronunciation:"",source_lang:"fr",target_lang:"fi"},ge=function(e){return{type:"SET_WORD",data:e}},he=function(){return{type:"RESET_WORD"}},be=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:fe,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"SET_WORD":return Object(O.a)({},t.data);case"RESET_WORD":return fe;default:return e}},ve=function(e){return function(){var t=Object(B.a)(I.a.mark(function t(a){return I.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,a({type:"NEW_NOTIFICATION",data:e});case 2:setTimeout(function(){a({type:"RESET_NOTIFICATION"})},5e3);case 3:case"end":return t.stop()}},t)}));return function(e){return t.apply(this,arguments)}}()},ye=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"NEW_NOTIFICATION":return Object(O.a)({},t.data);case"RESET_NOTIFICATION":return{};default:return e}},Ee=function(){return{type:"OPEN_MODAL"}},we=function(){return{type:"CLOSE_MODAL"}},Oe=function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];switch((arguments.length>1?arguments[1]:void 0).type){case"OPEN_MODAL":return!0;case"CLOSE_MODAL":return!1;default:return e}},Ae=function(){return{type:"IS_NOT_NEW"}},xe=function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];switch((arguments.length>1?arguments[1]:void 0).type){case"IS_NEW":return!0;case"IS_NOT_NEW":return!1;default:return e}},Ne=function(e){return{type:"NEW_SEARCH",data:e}},je=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"NEW_SEARCH":return t.data;case"RESET":return"";default:return e}},Ce={updateDictionary:function(e){return{type:"UPDATE_WORDS",data:e}},addWordToDictionary:function(e){return{type:"NEW_WORD",data:e}},removeWordFromDictionary:function(e){return{type:"DELETE_WORD",data:e}},setWord:ge,resetWord:he,displayNotification:ve,newSearch:Ne,openModal:Ee,closeModal:we,isNotNew:Ae},ke=Object(i.b)(function(e){return{word:e.word,new:e.new,modal:e.modal,user:e.user,languagePair:e.languagePair}},Ce)(function(e){var t=Object(m.c)().t;if(!e.word)return null;var a=function(){var a=Object(B.a)(I.a.mark(function a(n){var r,c,o,i;return I.a.wrap(function(a){for(;;)switch(a.prev=a.next){case 0:if(n.preventDefault(),e.word,!(e.word.lemma?e.word.translation?e.word.pos?"NOUN"!==e.word.pos||e.word.gender||(e.displayNotification({message:t("GenderIsMissingMessage"),messageType:"danger"}),0):(e.displayNotification({message:t("POSIsMissingMessage"),messageType:"danger"}),0):(e.displayNotification({message:t("TranslationIsMissingMessage"),messageType:"danger"}),0):(e.displayNotification({message:t("WordIsMissingMessage"),messageType:"danger"}),0))){a.next=37;break}if(e.new){a.next=20;break}return a.prev=3,r=Object(O.a)({},e.word,{modified_by:e.user.id,gender:e.word.gender?e.word.gender:null,pronunciation:e.word.pronunciation?e.word.pronunciation:null,source_lang:e.languagePair.source,target_lang:e.languagePair.target}),a.next=7,pe.update(e.word.id,r);case 7:c=a.sent,e.resetWord(),e.closeModal(),e.updateDictionary(c),e.displayNotification({message:t("WordSavedSuccessfully"),messageType:"success"}),a.next=18;break;case 14:a.prev=14,a.t0=a.catch(3),console.log(a.t0.response),e.displayNotification({message:t("ErrorWhenSaving"),messageType:"danger"});case 18:a.next=37;break;case 20:return a.prev=20,o=Object(O.a)({},e.word,{created_by:e.user.id,gender:e.word.gender?e.word.gender:null,pronunciation:e.word.pronunciation?e.word.pronunciation:null,source_lang:e.languagePair.source,target_lang:e.languagePair.target}),a.next=24,pe.create(o);case 24:i=a.sent,e.isNotNew(),e.resetWord(),e.closeModal(),e.newSearch(i.lemma),e.addWordToDictionary(i),e.displayNotification({message:t("WordSavedSuccessfully"),messageType:"success"}),a.next=37;break;case 33:a.prev=33,a.t1=a.catch(20),console.log(a.t1.response),400===a.t1.request.status?e.displayNotification({message:t("WordExists"),messageType:"danger"}):e.displayNotification({message:t("ErrorWhenSaving"),messageType:"danger"});case 37:case"end":return a.stop()}},a,null,[[3,14],[20,33]])}));return function(e){return a.apply(this,arguments)}}(),n=function(t){var a=Object(O.a)({},e.word);a[t.target.name]=t.target.value,e.setWord(a)},c=function(){var a=Object(B.a)(I.a.mark(function a(){var n,r;return I.a.wrap(function(a){for(;;)switch(a.prev=a.next){case 0:if(n=t("ConfirmRemove"),!window.confirm("".concat(n," ").concat(e.word.lemma,"?"))){a.next=16;break}return a.prev=2,a.next=5,pe.remove(e.word.id);case 5:e.removeWordFromDictionary(e.word),r=t("RemovalSucceeded"),e.displayNotification({message:"".concat(r," ").concat(e.word.lemma),messageType:"success"}),e.resetWord(),e.close(),a.next=16;break;case 12:a.prev=12,a.t0=a.catch(2),console.log(a.t0.response),e.displayNotification({message:t("RemovalFailed"),messageType:"danger"});case 16:case"end":return a.stop()}},a,null,[[2,12]])}));return function(){return a.apply(this,arguments)}}(),o=e.word.pos?e.word.pos:"",i=e.word.gender?e.word.gender:"",s=e.word.pronunciation?e.word.pronunciation:"";return r.a.createElement(X.a,{show:e.modal,onHide:e.close,"data-cy":"dictionary-details-modal"},r.a.createElement(X.a.Header,{closeButton:!0},r.a.createElement(X.a.Title,null,e.word.lemma)),r.a.createElement(X.a.Body,null,r.a.createElement(G.a,{onSubmit:a},r.a.createElement(T,null),r.a.createElement(G.a.Group,{controlId:"formGroupLemma"},r.a.createElement(G.a.Label,null,t("WordLabel"),":"),r.a.createElement(G.a.Control,{type:"text",name:"lemma","data-cy":"dictionary-word-lemma",value:e.word.lemma,readOnly:!e.user.id,onChange:function(e){return n(e)}})),r.a.createElement(G.a.Group,{controlId:"formGroupTranslation"},r.a.createElement(G.a.Label,null,t("TranslationLabel"),":"),r.a.createElement(G.a.Control,{type:"text",name:"translation","data-cy":"dictionary-word-translation",value:e.word.translation,readOnly:!e.user.id,onChange:function(e){return n(e)}})),r.a.createElement(G.a.Group,{controlId:"formGroupPronunciation"},r.a.createElement(G.a.Label,null,t("PronunciationLabel"),":"),r.a.createElement(G.a.Control,{type:"text",name:"pronunciation",value:s,readOnly:!e.user.id,onChange:function(e){return n(e)}})),r.a.createElement(G.a.Group,{controlId:"formGroupPOS"},r.a.createElement(G.a.Label,null,t("POSLabel"),":"),r.a.createElement(G.a.Control,{as:"select",name:"pos",value:o,readOnly:!e.user.id,onChange:function(e){return n(e)}},r.a.createElement("option",{value:"ADJ"},t("AdjectiveOption")),r.a.createElement("option",{value:"ADP"},t("AdpositionOption")),r.a.createElement("option",{value:"ADV"},t("AdverbOption")),r.a.createElement("option",{value:"AUX"},t("AuxiliaryOption")),r.a.createElement("option",{value:"CONJ"},t("ConjunctionOption")),r.a.createElement("option",{value:"CCONJ"},t("CConjunctionOption")),r.a.createElement("option",{value:"DET"},t("DeterminerOption")),r.a.createElement("option",{value:"INTJ"},t("InterjectionOption")),r.a.createElement("option",{value:"NOUN"},t("NounOption")),r.a.createElement("option",{value:"NUM"},t("NumeralOption")),r.a.createElement("option",{value:"PART"},t("ParticleOption")),r.a.createElement("option",{value:"PRON"},t("PronounOption")),r.a.createElement("option",{value:"PROPN"},t("PropernounOption")),r.a.createElement("option",{value:"SCONJ"},t("SconjunctionOption")),r.a.createElement("option",{value:"VERB"},t("VerbOption")),r.a.createElement("option",{value:"X"},t("OtherOption")))),r.a.createElement(G.a.Group,{controlId:"formGroupGender"},r.a.createElement(G.a.Label,null,t("GenderLabel"),":"),r.a.createElement(G.a.Control,{as:"select",name:"gender",value:i,readOnly:!e.user.id,onChange:function(e){return n(e)}},r.a.createElement("option",{value:""}),r.a.createElement("option",{value:"f"},t("FeminineOption")),r.a.createElement("option",{value:"m"},t("MasculineOption")))),e.user.id?r.a.createElement(Z.a,{className:"float-left"},r.a.createElement(U.a,{className:"mr-1",variant:"outline-primary","data-cy":"dictionary-word-save-button",type:"submit"},t("SubmitWordButton")),e.user.id===e.word.created_by?r.a.createElement(U.a,{className:"mr-1",variant:"outline-danger","data-cy":"dictionary-word-remove-button",onClick:c},t("RemoveButton")):null):null,e.showNextAllowed?r.a.createElement(Z.a,{className:"float-right"},r.a.createElement(U.a,{className:"mr-1",variant:"outline-primary","data-cy":"dictionary-word-previous-button",as:"input",name:"previous",onClick:e.showNext,value:t("PreviousButton")}),r.a.createElement(U.a,{className:"mr-1",variant:"outline-primary","data-cy":"dictionary-word-next-button",as:"input",name:"next",onClick:e.showNext,value:t("NextButton")})):null)))}),Se={initializeFilteredWords:function(e,t,a){return function(){var n=Object(B.a)(I.a.mark(function n(r){var c;return I.a.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,pe.getFiltered(e,t,a);case 2:c=n.sent,r({type:"INIT_WORDS",data:c});case 4:case"end":return n.stop()}},n)}));return function(e){return n.apply(this,arguments)}}()},createWord:function(e,t){return{type:"SET_WORD",data:{lemma:"",translation:"",pos:"ADJ",gender:"",token:"",pronunciation:"",source_lang:e,target_lang:t}}},setWord:ge,resetWord:he,newSearch:Ne,openModal:Ee,closeModal:we,isNew:function(){return{type:"IS_NEW"}},isNotNew:Ae,displayNotification:ve},Te=Object(i.b)(function(e){return{visibleWords:ce(e.dictionary,e.search),search:e.search,word:e.word,new:e.new,user:e.user,languagePair:e.languagePair}},Se)(function(e){var t=Object(n.useState)(!1),a=Object(F.a)(t,2),c=a[0],o=a[1],i=Object(n.useState)(""),s=Object(F.a)(i,2),u=s[0],l=s[1],d=Object(m.c)().t,p=d("StartTyping"),f=function(t){e.setWord(t),e.openModal()},g=function(){var t=Object(B.a)(I.a.mark(function t(a){var n;return I.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(n=a.target,e.newSearch(n.value),!n.value||u===n.value[0]){t.next=16;break}return t.prev=3,o(!0),l(n.value[0]),t.next=8,e.initializeFilteredWords(n.value[0],e.languagePair.source,e.languagePair.target);case 8:o(!1),t.next=16;break;case 11:t.prev=11,t.t0=t.catch(3),console.log(t.t0.response),o(!1),e.displayNotification({message:d("ErrorWhenFetchingWords"),messageType:"danger"});case 16:case"end":return t.stop()}},t,null,[[3,11]])}));return function(e){return t.apply(this,arguments)}}();return r.a.createElement(n.Fragment,null,r.a.createElement(v.a,null,r.a.createElement(V.a,{lg:8,md:8,sm:12,xl:8,xs:12},r.a.createElement("div",{className:"contentContainer"},r.a.createElement("div",{className:"stickyContainer"},r.a.createElement("h1",null,d("DictionaryTitle")),e.user.id?r.a.createElement(U.a,{className:"mb-2",variant:"outline-primary","data-cy":"add-word-to-dictionary-button",as:"input",type:"button",value:d("NewWord"),onClick:function(){e.createWord(e.languagePair.source,e.languagePair.target),e.isNew(),e.openModal()}}):null,r.a.createElement(G.a.Control,{className:"mb-2","data-cy":"dictionary-search-field",type:"text",placeholder:d("SearchPlaceholder"),value:e.search,onChange:g}),c?r.a.createElement("div",null,r.a.createElement(H.a,{animation:"border"},r.a.createElement("span",{className:"sr-only"},d("Loading")))):null),0===e.visibleWords.length&&0===e.search.length?r.a.createElement("p",{className:"text-muted","data-cy":"empty-dictionary-message"},p):r.a.createElement(q,{words:e.visibleWords,showDetails:f}),r.a.createElement(ke,{close:function(){e.new?(e.resetWord(),e.isNotNew(),e.closeModal()):(e.resetWord(),e.closeModal())},showNext:function(t){var a,n=e.visibleWords.findIndex(function(t){return t.id===e.word.id}),r=t.target.name;e.new?("next"===r?a=0:"previous"===r&&(a=e.visibleWords.length-1),e.resetWord(),e.isNotNew(),f(e.visibleWords[a])):("next"===r?a=n===e.visibleWords.length-1?0:n+1:"previous"===r&&(a=0===n?e.visibleWords.length-1:n-1),e.resetWord(),f(e.visibleWords[a]))},showNextAllowed:e.visibleWords.length>1})))))}),We={newSearch:Ne},Pe=Object(i.b)(function(e){return{search:e.search}},We)(function(e){var t=Object(m.c)().t;return r.a.createElement(G.a.Control,{className:"mb-2",type:"text",placeholder:t("SearchPlaceholder"),value:e.search,"data-cy":"search-field",onChange:function(t){e.newSearch(t.target.value)}})}),Re={getAll:function(){var e=Object(B.a)(I.a.mark(function e(){var t,a;return I.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t=ie(),e.next=3,te.a.get("/api/chapters",t);case 3:return a=e.sent,e.abrupt("return",a.data);case 5:case"end":return e.stop()}},e)}));return function(){return e.apply(this,arguments)}}(),getOne:function(){var e=Object(B.a)(I.a.mark(function e(t){var a,n;return I.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return a=ie(),e.next=3,te.a.get("".concat("/api/chapters","/").concat(t),a);case 3:return n=e.sent,e.abrupt("return",n.data);case 5:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}(),getFiltered:function(){var e=Object(B.a)(I.a.mark(function e(t,a){var n,r,c;return I.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n="".concat("/api/chapters","/?source=").concat(t,"&target=").concat(a),r=ie(),e.next=4,te.a.get(n,r);case 4:return c=e.sent,e.abrupt("return",c.data);case 6:case"end":return e.stop()}},e)}));return function(t,a){return e.apply(this,arguments)}}(),create:function(){var e=Object(B.a)(I.a.mark(function e(t){var a,n;return I.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return a=ie(),e.next=3,te.a.post("".concat("/api/chapters","/"),t,a);case 3:return n=e.sent,e.abrupt("return",n.data);case 5:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}(),update:function(){var e=Object(B.a)(I.a.mark(function e(t,a){var n,r;return I.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n=ie(),e.next=3,te.a.patch("".concat("/api/chapters","/").concat(t),a,n);case 3:return r=e.sent,e.abrupt("return",r.data);case 5:case"end":return e.stop()}},e)}));return function(t,a){return e.apply(this,arguments)}}(),remove:function(){var e=Object(B.a)(I.a.mark(function e(t){var a,n;return I.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return a=ie(),e.next=3,te.a.delete("".concat("/api/chapters","/").concat(t),a);case 3:return n=e.sent,e.abrupt("return",n.data);case 5:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}(),removeMany:function(){var e=Object(B.a)(I.a.mark(function e(t){var a,n,r;return I.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return a=ie(),n=[],t.forEach(function(e){n.push(te.a.delete("".concat("/api/chapters","/").concat(e),a))}),e.next=5,Promise.all(n);case 5:return r=e.sent,e.abrupt("return",r.map(function(e){return e.data}));case 7:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}()},Le=function(e){return{type:"UPDATE_WORD",data:e}},Me=function(e){return{type:"REMOVE_WORD",data:e}},_e=function(e){return function(){var t=Object(B.a)(I.a.mark(function t(a){var n,r,c;return I.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,Re.getOne(e);case 2:n=t.sent,r=n.words.map(function(e){return Object(O.a)({},e,{learned:!1,selected:!1})}),c=Object(O.a)({},n,{words:r}),a({type:"SET_CHAPTER",data:c});case 6:case"end":return t.stop()}},t)}));return function(e){return t.apply(this,arguments)}}()},De=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"SET_CHAPTER":return t.data;case"RESET_CHAPTER":return{};case"PUBLISH_CHAPTER":return Object(O.a)({},e,{public:!0});case"SET_TITLE":return Object(O.a)({},e,{title:t.data});case"SET_BODY":return Object(O.a)({},e,{body:t.data});case"REMOVE_WORD":var a=e.words.findIndex(function(e){return e.id===t.data.id}),n=Object($.a)(e.words);return n.splice(a,1),Object(O.a)({},e,{words:n});case"ADD_WORD":var r=Object(O.a)({},t.data,{learned:!1,selected:!1});return Object(O.a)({},e,{words:e.words.concat(r)});case"UPDATE_WORD":var c=t.data.id,o=e.words.map(function(e){return e.id!==c?e:t.data});return Object(O.a)({},e,{words:o});default:return e}},Ie={remove:function(){var e=Object(B.a)(I.a.mark(function e(t){var a,n;return I.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return a=ie(),e.next=3,te.a.delete("".concat("/api/wordproperties","/").concat(t),a);case 3:return n=e.sent,e.abrupt("return",n.data);case 5:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}(),removeMany:function(){var e=Object(B.a)(I.a.mark(function e(t){var a,n,r;return I.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return a=ie(),n=[],t.forEach(function(e){n.push(te.a.delete("".concat("/api/wordproperties","/").concat(e),a))}),e.next=5,Promise.all(n);case 5:return r=e.sent,e.abrupt("return",r.map(function(e){return e.data}));case 7:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}(),create:function(){var e=Object(B.a)(I.a.mark(function e(t){var a,n;return I.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return a=ie(),e.next=3,te.a.post("".concat("/api/wordproperties","/"),t,a);case 3:return n=e.sent,e.abrupt("return",n.data);case 5:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}(),update:function(){var e=Object(B.a)(I.a.mark(function e(t,a){var n,r;return I.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n=ie(),e.next=3,te.a.put("".concat("/api/wordproperties","/").concat(t),a,n);case 3:return r=e.sent,e.abrupt("return",r.data);case 5:case"end":return e.stop()}},e)}));return function(t,a){return e.apply(this,arguments)}}()},Be={setWord:ge,resetWord:he,updateChapterWord:Le,removeChapterWord:Me,displayNotification:ve},Fe=Object(i.b)(function(e){return{word:e.word,modal:e.modal}},Be)(function(e){var t,a,c=Object(m.c)().t;if(!e.word)return null;e.word.pos?"ADJ"===e.word.pos?t=c("AdjectiveOption"):"ADP"===e.word.pos?t=c("AdpositionOption"):"ADV"===e.word.pos?t=c("AdverbOption"):"AUX"===e.word.pos?t=c("AuxiliaryOption"):"CONJ"===e.word.pos?t=c("ConjunctionOption"):"CCONJ"===e.word.pos?t=c("CConjunctionOption"):"DET"===e.word.pos?t=c("DeterminerOption"):"INTJ"===e.word.pos?t=c("InterjectionOption"):"NOUN"===e.word.pos?t=c("NounOption"):"NUM"===e.word.pos?t=c("NumeralOption"):"PART"===e.word.pos?t=c("ParticleOption"):"PRON"===e.word.pos?t=c("PronounOption"):"PROPN"===e.word.pos?t=c("PropernounOption"):"SCONJ"===e.word.pos?t=c("SconjunctionOption"):"VERB"===e.word.pos?t=c("VerbOption"):"X"===e.word.pos&&(t=c("OtherOption")):t="",e.word.gender?"f"===e.word.gender?a=c("FeminineOption"):"m"===e.word.gender&&(a=c("MasculineOption")):a="";var o=function(){var t=Object(B.a)(I.a.mark(function t(a){var n;return I.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return a.preventDefault(),n={token:e.word.token},t.prev=2,t.next=5,Ie.update(e.word.id,n);case 5:e.updateChapterWord(e.word),e.close(),e.displayNotification({message:c("WordSavedSuccessfully"),messageType:"success"}),t.next=14;break;case 10:t.prev=10,t.t0=t.catch(2),console.log(t.t0.response),e.displayNotification({message:c("ErrorWhenSaving"),messageType:"danger"});case 14:case"end":return t.stop()}},t,null,[[2,10]])}));return function(e){return t.apply(this,arguments)}}(),i=function(){var t=Object(B.a)(I.a.mark(function t(){var a,n;return I.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(a=c("ConfirmRemove"),!window.confirm("".concat(a," ").concat(e.word.lemma,"?"))){t.next=16;break}return t.prev=2,t.next=5,Ie.remove(e.word.id);case 5:e.removeChapterWord(e.word),e.close(),n=c("RemovalSucceeded"),e.displayNotification({message:"".concat(n," ").concat(e.word.lemma),messageType:"success"}),e.resetWord(),t.next=16;break;case 12:t.prev=12,t.t0=t.catch(2),console.log(t.t0.response),e.displayNotification({message:c("RemovalFailed"),messageType:"danger"});case 16:case"end":return t.stop()}},t,null,[[2,12]])}));return function(){return t.apply(this,arguments)}}();return r.a.createElement(X.a,{show:e.modal,onHide:e.close,"data-cy":"word-details-modal"},r.a.createElement(X.a.Header,{closeButton:!0},r.a.createElement(X.a.Title,null,e.word.lemma)),r.a.createElement(X.a.Body,null,r.a.createElement(G.a,{onSubmit:o},r.a.createElement(T,null),r.a.createElement(G.a.Group,null,r.a.createElement(G.a.Label,null,c("WordLabel"),":"),r.a.createElement(G.a.Control,{readOnly:!0,value:e.word.lemma})),e.displayToken?r.a.createElement(n.Fragment,null,r.a.createElement(G.a.Group,null,r.a.createElement(G.a.Label,null,c("TokenLabel"),":"),r.a.createElement(G.a.Control,{type:"text",readOnly:!e.edit,value:e.word.token,onChange:function(t){return function(t){var a=t.target;e.setWord(Object(O.a)({},e.word,{token:a.value}))}(t)}}))):null,r.a.createElement(G.a.Group,null,r.a.createElement(G.a.Label,null,c("TranslationLabel"),":"),r.a.createElement(G.a.Control,{type:"text",readOnly:!0,value:e.word.translation})),r.a.createElement(G.a.Group,null,r.a.createElement(G.a.Label,null,c("PronunciationLabel"),":"),r.a.createElement(G.a.Control,{type:"text",readOnly:!0,value:e.word.pronunciation?e.word.pronunciation:""})),r.a.createElement(G.a.Group,null,r.a.createElement(G.a.Label,null,c("POSLabel"),":"),r.a.createElement(G.a.Control,{type:"text",readOnly:!0,value:t})),"NOUN"===e.word.pos?r.a.createElement(G.a.Group,null,r.a.createElement(G.a.Label,null,c("GenderLabel"),":"),r.a.createElement(G.a.Control,{type:"text",readOnly:!0,value:a})):null,r.a.createElement(G.a.Group,null,r.a.createElement("label",null,r.a.createElement("input",{type:"checkbox",checked:!!e.word.learned&&e.word.learned,readOnly:!0,id:"learned"}),c("LearnedLabel"))),e.edit?r.a.createElement(Z.a,{className:"float-left"},r.a.createElement(U.a,{className:"mr-1",variant:"outline-primary","data-cy":"save-word-button",type:"submit"},c("SubmitWordButton")),r.a.createElement(U.a,{className:"mr-1",variant:"outline-danger","data-cy":"remove-word-button",onClick:i},c("RemoveButton"))):null,r.a.createElement(Z.a,{className:"float-right"},r.a.createElement(U.a,{className:"mr-1",variant:"outline-primary","data-cy":"previous-word-button",as:"input",name:"previous",onClick:e.showNext,value:c("PreviousButton")}),r.a.createElement(U.a,{className:"mr-1",variant:"outline-primary","data-cy":"next-word-button",as:"input",name:"next",onClick:e.showNext,value:c("NextButton")})))))}),Ve=function(e){var t=Object(m.c)().t;return r.a.createElement("div",null,r.a.createElement(X.a,{show:e.practicing,onHide:e.stopPracticing},r.a.createElement(X.a.Header,{closeButton:!0}),r.a.createElement(X.a.Body,null,r.a.createElement("p",{"data-cy":"word-to-practice"},e.word.translation),r.a.createElement(G.a,{onSubmit:e.checkWord},r.a.createElement(G.a.Row,null,r.a.createElement(V.a,null,r.a.createElement(G.a.Control,{value:e.myTry,placeholder:t("TranslationPlaceholder"),onChange:e.change})),r.a.createElement(V.a,null,e.check?r.a.createElement(J.a,{src:e.check}):null)),e.solution?r.a.createElement(G.a.Control,{plaintext:!0,readOnly:!0,"data-cy":"correct-solution",defaultValue:e.solution}):null,r.a.createElement(Z.a,{className:"my-2"},r.a.createElement(U.a,{className:"mr-1",variant:"outline-primary","data-cy":"check-solution-button",disabled:e.disabled,type:"submit"},t("CheckButton")),r.a.createElement(U.a,{className:"mr-1",variant:"outline-primary","data-cy":"practice-next-button",disabled:e.disabled,onClick:e.next},t("NextButton")))))))},Ue=a(230),Ge=a(32),He=function(e){var t=Object(m.c)().t;return r.a.createElement(Ue.a,{className:"mr-1",variant:"outline-primary",size:e.size,title:t("SelectWordsToShow")},r.a.createElement(Ge.a.Item,{as:"button",onClick:e.selectNotLearned},t("SelectNotLearned")),r.a.createElement(Ge.a.Item,{as:"button",onClick:e.selectLearned},t("SelectLearned")),r.a.createElement(Ge.a.Item,{as:"button",onClick:e.selectAll},t("SelectAll")),r.a.createElement(Ge.a.Item,{as:"button",onClick:e.selectNothing},t("SelectNothing")))},ze={getOne:function(){var e=Object(B.a)(I.a.mark(function e(t){var a,n;return I.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return a=ie(),e.next=3,te.a.get("".concat("/api/users","/").concat(t),a);case 3:return n=e.sent,e.abrupt("return",n.data);case 5:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}(),create:function(){var e=Object(B.a)(I.a.mark(function e(t){var a;return I.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,te.a.post("".concat("/api/users","/"),t);case 2:return a=e.sent,e.abrupt("return",a.data);case 4:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}(),update:function(){var e=Object(B.a)(I.a.mark(function e(t,a){var n;return I.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,te.a.put("".concat("/api/users","/").concat(t),a);case 2:return n=e.sent,e.abrupt("return",n.data);case 4:case"end":return e.stop()}},e)}));return function(t,a){return e.apply(this,arguments)}}(),remove:function(){var e=Object(B.a)(I.a.mark(function e(t){var a;return I.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,te.a.delete("".concat("/api/users","/").concat(t));case 2:return a=e.sent,e.abrupt("return",a.data);case 4:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}()},Je=function(e){return{type:"UPDATE_MY_WORD",data:e}},Qe=function(e,t,a){return function(){var n=Object(B.a)(I.a.mark(function n(r){var c,o,i;return I.a.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,ze.getOne(e);case 2:c=n.sent,o=c.learningdata.filter(function(e){return e.source_lang===t&&e.target_lang===a}),i=o.map(function(e){return Object(O.a)({},e,{selected:!1})}),r({type:"INIT_MY_VOCABULARY",data:i});case 6:case"end":return n.stop()}},n)}));return function(e){return n.apply(this,arguments)}}()},Ye=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"NEW_MY_WORD":return[].concat(Object($.a)(e),[t.data]);case"REMOVE_MY_WORD":var a=e.findIndex(function(e){return e.id===t.data.id}),n=Object($.a)(e);return n.splice(a,1),n;case"UPDATE_MY_WORD":var r=t.data.id,c=Object(O.a)({},t.data);return e.map(function(e){return e.id!==r?e:c});case"INIT_MY_VOCABULARY":return t.data;case"RESET_MY_VOCABULARY":return[];default:return e}},Ke={create:function(){var e=Object(B.a)(I.a.mark(function e(t){var a,n;return I.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return a=ie(),e.next=3,te.a.post("".concat("/api/learningdata","/"),t,a);case 3:return n=e.sent,e.abrupt("return",n.data);case 5:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}(),update:function(){var e=Object(B.a)(I.a.mark(function e(t,a){var n,r;return I.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n=ie(),e.next=3,te.a.put("".concat("/api/learningdata","/").concat(t,"/"),a,n);case 3:return r=e.sent,e.abrupt("return",r.data);case 5:case"end":return e.stop()}},e)}));return function(t,a){return e.apply(this,arguments)}}(),remove:function(){var e=Object(B.a)(I.a.mark(function e(t){var a,n;return I.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return a=ie(),e.next=3,te.a.delete("".concat("/api/learningdata","/").concat(t,"/"),a);case 3:return n=e.sent,e.abrupt("return",n.data);case 5:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}(),removeMany:function(){var e=Object(B.a)(I.a.mark(function e(t){var a,n,r;return I.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return a=ie(),n=[],t.forEach(function(e){n.push(te.a.delete("".concat("/api/learningdata","/").concat(e),a))}),e.next=5,Promise.all(n);case 5:return r=e.sent,e.abrupt("return",r.map(function(e){return e.data}));case 7:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}()},qe=a(67),Xe=a.n(qe),Ze=a(68),$e=a.n(Ze),et={initializeMyVocabulary:Qe,updateMyVocabulary:Je,removeWordFromMyVocabulary:function(e){return{type:"REMOVE_MY_WORD",data:e}},setWord:ge,resetWord:he,openModal:Ee,closeModal:we,displayNotification:ve,newSearch:Ne},tt=Object(i.b)(function(e){return{visibleWords:(t=e.myVocabulary,a=e.search,a?t.filter(function(e){var t=ae(e.lemma),n=ae(a);return t.startsWith(n)}).sort(function(e,t){return ne(e,t)}):t.sort(function(e,t){return ne(e,t)})),myVocabulary:e.myVocabulary,search:e.search,word:e.word,user:e.user,languagePair:e.languagePair};var t,a},et)(function(e){var t=Object(n.useState)(!1),a=Object(F.a)(t,2),c=a[0],o=a[1],i=Object(n.useState)(!1),s=Object(F.a)(i,2),u=s[0],l=s[1],d=Object(n.useState)(""),p=Object(F.a)(d,2),f=p[0],g=p[1],h=Object(n.useState)(""),b=Object(F.a)(h,2),y=b[0],E=b[1],w=Object(n.useState)(null),A=Object(F.a)(w,2),x=A[0],N=A[1],j=Object(n.useState)(!1),C=Object(F.a)(j,2),k=C[0],S=C[1],T=Object(n.useState)(!0),W=Object(F.a)(T,2),P=W[0],R=W[1],L=Object(n.useState)([]),M=Object(F.a)(L,2),_=M[0],D=M[1],G=Object(m.c)().t,z=G("NoWordsInVocabulary");Object(n.useEffect)(function(){!function(){var t=Object(B.a)(I.a.mark(function t(){return I.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return o(!0),t.prev=1,t.next=4,e.initializeMyVocabulary(e.user.id,e.languagePair.source,e.languagePair.target);case 4:t.next=9;break;case 6:t.prev=6,t.t0=t.catch(1),console.log(t.t0.response);case 9:o(!1);case 10:case"end":return t.stop()}},t,null,[[1,6]])}));return function(){return t.apply(this,arguments)}}()()},[]);var J=function(t){e.setWord(t),e.openModal()},Q=function(){if(0===_.length){var t=e.myVocabulary.filter(function(e){return e.selected}),a=Math.floor(Math.random()*t.length);e.setWord(t[a]),t.splice(a,1),D(t)}else{var n=Math.floor(Math.random()*_.length);e.setWord(_[n]);var r=Object($.a)(_);r.splice(n,1),D(r)}},Y=function(){g(""),N(null),E(""),Q()},K=function(){var t=Object(B.a)(I.a.mark(function t(){var a;return I.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(!e.word.word_id){t.next=11;break}return t.prev=1,a={user:e.user.id,word:e.word.word_id,learned:!0},t.next=5,Ke.update(e.word.id,a);case 5:t.next=11;break;case 7:t.prev=7,t.t0=t.catch(1),console.log(t.t0.response.data),e.displayNotification({message:t.t0.response.data.detail,messageType:"danger"});case 11:case"end":return t.stop()}},t,null,[[1,7]])}));return function(){return t.apply(this,arguments)}}(),X=function(){e.myVocabulary.find(function(e){return e.selected})?R(!1):R(!0)},ee=function(){e.visibleWords.forEach(function(t){t.selected=!1,e.updateMyVocabulary(t)}),X()},te=function(){var t=Object(B.a)(I.a.mark(function t(){var a,n,r,c,o,i;return I.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(a=e.visibleWords.filter(function(e){return e.selected}),n=a.map(function(e){return e.lemma}),r=a.map(function(e){return e.id}),c=n[0],n.length>1&&(n.shift(),c=n.reduce(function(e,t){return"".concat(e,", ").concat(t)},c)),o=G("ConfirmRemove"),!window.confirm("".concat(o," ").concat(c,"?"))){t.next=18;break}return t.prev=7,t.next=10,Ke.removeMany(r);case 10:a.forEach(function(t){e.removeWordFromMyVocabulary(t)}),a.length>0&&(i=G("WordsRemovedMessage"),e.displayNotification({message:"".concat(i," ").concat(c),messageType:"success"}),R(!0)),t.next=18;break;case 14:t.prev=14,t.t0=t.catch(7),console.log(t.t0.response),404===t.t0.response.request.status?(a.forEach(function(t){e.removeWordFromMyVocabulary(t)}),R(!0)):(e.displayNotification({message:G("RemovingFailed"),messageType:"danger"}),R(!1));case 18:case"end":return t.stop()}},t,null,[[7,14]])}));return function(){return t.apply(this,arguments)}}();return c?r.a.createElement(H.a,{animation:"border"},r.a.createElement("span",{className:"sr-only"},G("Loading"))):e.user.id?r.a.createElement(n.Fragment,null,r.a.createElement(v.a,null,r.a.createElement(V.a,{lg:8,md:8,sm:12,xl:8,xs:12},r.a.createElement("div",{className:"contentContainer"},r.a.createElement("div",{className:"stickyContainer"},r.a.createElement("h1",null,G("MyVocabularyTitle")),r.a.createElement(Z.a,{className:"mb-2"},r.a.createElement(He,{selectAll:function(){e.visibleWords.forEach(function(t){t.selected=!0,e.updateMyVocabulary(t)}),X()},selectNothing:ee,selectLearned:function(){ee(),e.visibleWords.filter(function(e){return e.learned}).forEach(function(t){t.selected=!0,e.updateMyVocabulary(t)}),X()},selectNotLearned:function(){ee(),e.visibleWords.filter(function(e){return!e.learned}).forEach(function(t){t.selected=!0,e.updateMyVocabulary(t)}),X()}}),r.a.createElement(U.a,{className:"mr-1",variant:"outline-primary","data-cy":"practice-myvocabulary-word-button",disabled:P,onClick:function(){Q(),e.newSearch("   "),l(!0)}},G("PracticeWordsButton")),r.a.createElement(U.a,{className:"mr-1",variant:"outline-danger","data-cy":"remove-myvocabulary-word-button",disabled:P,onClick:te},G("RemoveSelectedWordsButton"))),r.a.createElement(Pe,null)),0===e.myVocabulary.length?r.a.createElement("p",{className:"text-muted"},z):r.a.createElement(q,{words:e.visibleWords,showDetails:J,selectable:"true",toggleChecked:function(t){var a=Number(t.target.name),n=e.visibleWords.find(function(e){return e.id===a});n.selected=!n.selected,X(),e.updateMyVocabulary(n)}}),r.a.createElement(Fe,{close:function(){e.resetWord(),e.closeModal()},showNext:function(t){var a,n=e.visibleWords.findIndex(function(t){return t.id===e.word.id}),r=t.target.name;"next"===r?a=n===e.visibleWords.length-1?0:n+1:"previous"===r&&(a=0===n?e.visibleWords.length-1:n-1),e.resetWord(),J(e.visibleWords[a])}}),r.a.createElement(Ve,{word:e.word,myTry:f,check:x,solution:y,practicing:u,disabled:k,stopPracticing:function(){e.resetWord(),g(""),N(null),E(""),e.newSearch(""),ee(),D([]),l(!1)},next:Y,checkWord:function(t){if(t.preventDefault(),e.word.lemma.toLowerCase()===f.toLowerCase()){N(Xe.a);var a=Object(O.a)({},e.word);a.learned=!0,e.updateMyVocabulary(a),K()}else N($e.a),S(!0),E(e.word.lemma),setTimeout(function(){E(""),S(!1),Y()},1e3)},change:function(e){g(e.target.value)}}))))):r.a.createElement("p",{"data-cy":"unauthorized-message"},G("UnauthorizedMyVocabulary"))}),at=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"NEW_CHAPTER":return[].concat(Object($.a)(e),[t.data]);case"INIT_CHAPTERS":return t.data;case"REMOVE_CHAPTER":var a=e.findIndex(function(e){return e.id===t.data.id}),n=Object($.a)(e);return n.splice(a,1),n;case"UPDATE_CHAPTER":var r=t.data.id;return e.map(function(e){return e.id!==r?e:t.data});case"RESET_CHAPTERS":return[];default:return e}},nt={initializeChapters:function(e){return{type:"INIT_CHAPTERS",data:e}},updateChapter:function(e){return{type:"UPDATE_CHAPTER",data:e}},removeChapter:function(e){return{type:"REMOVE_CHAPTER",data:e}},displayNotification:ve,newSearch:Ne},rt=Object(i.b)(function(e){return{visibleChapters:(t=e.chapters,a=e.search,t.filter(function(e){var t=ae(e.title),n=ae(a);return t.includes(n)})),user:e.user,search:e.search,languagePair:e.languagePair};var t,a},nt)(function(e){var t=Object(n.useState)(!1),a=Object(F.a)(t,2),c=a[0],o=a[1],i=Object(n.useState)(!0),s=Object(F.a)(i,2),u=s[0],l=s[1],d=Object(m.c)().t;Object(n.useEffect)(function(){!function(){var t=Object(B.a)(I.a.mark(function t(){var a,n;return I.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return o(!0),t.prev=1,t.next=4,Re.getFiltered(e.languagePair.source,e.languagePair.target);case 4:a=t.sent,n=a.map(function(e){return Object(O.a)({},e,{selected:!1})}),e.initializeChapters(n),t.next=12;break;case 9:t.prev=9,t.t0=t.catch(1),console.log(t.t0.response);case 12:o(!1);case 13:case"end":return t.stop()}},t,null,[[1,9]])}));return function(){return t.apply(this,arguments)}}()()},[]);var p=function(t){var a=Number(t.target.name),n=e.visibleChapters.find(function(e){return e.id===a});n.selected=!n.selected,e.visibleChapters.find(function(e){return e.selected})?l(!1):l(!0),e.updateChapter(n)},f=function(){var t=Object(B.a)(I.a.mark(function t(){var a,n,r,c,o,i;return I.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(a=e.visibleChapters.filter(function(e){return e.selected}),n=a.map(function(e){return e.title}),r=a.map(function(e){return e.id}),c=n[0],n.length>1&&(n.shift(),c=n.reduce(function(e,t){return"".concat(e,", ").concat(t)},c)),o=d("ConfirmRemove"),!window.confirm("".concat(o," ").concat(c,"?"))){t.next=18;break}return t.prev=7,t.next=10,Re.removeMany(r);case 10:a.forEach(function(t){e.removeChapter(t)}),a.length>0&&(i=d("ChaptersRemovedMessage"),e.displayNotification({message:"".concat(i," ").concat(c),messageType:"success"}),l(!0)),t.next=18;break;case 14:t.prev=14,t.t0=t.catch(7),console.log(t.t0.response),404===t.t0.response.request.status?(a.forEach(function(t){e.removeChapter(t)}),l(!0)):(e.displayNotification({message:d("RemovingFailed"),messageType:"danger"}),l(!1));case 18:case"end":return t.stop()}},t,null,[[7,14]])}));return function(){return t.apply(this,arguments)}}();return c?r.a.createElement(H.a,{animation:"border"},r.a.createElement("span",{className:"sr-only"},d("Loading"))):r.a.createElement(n.Fragment,null,r.a.createElement(v.a,null,r.a.createElement(V.a,{lg:8,md:8,sm:12,xl:8,xs:12},r.a.createElement("div",{className:"contentContainer"},r.a.createElement("div",{className:"stickyContainer"},r.a.createElement("h1",null,d("ChaptersPageTitle")),e.user.id?r.a.createElement(Z.a,{className:"mb-2"},r.a.createElement(U.a,{href:"/new",className:"mr-1",variant:"outline-primary","data-cy":"new-chapter-button"},d("CreateNewChapterButton")),e.visibleChapters.find(function(t){return t.created_by===e.user.id})?r.a.createElement(U.a,{className:"mr-1",variant:"outline-danger",disabled:u,onClick:f,"data-cy":"remove-chapters-button"},d("RemoveSelectedChaptersButton")):null):null,r.a.createElement(Pe,null)),r.a.createElement(z.a,null,r.a.createElement("tbody",null,e.visibleChapters.map(function(t){return r.a.createElement("tr",{key:t.id},r.a.createElement("td",null,e.user.id===t.created_by?r.a.createElement("input",{type:"checkbox",name:t.id,onClick:p}):null),r.a.createElement("td",null,r.a.createElement("a",{href:"/chapters/".concat(t.id)},t.title)))})))))))}),ct=(a(207),a(122)),ot=a.n(ct),it=(a(219),{displayNotification:ve,setDictionary:function(e){return{type:"INIT_WORDS",data:e}},addChapterWord:function(e){return{type:"ADD_WORD",data:e}}}),st=Object(i.b)(function(e){return{dictionary:e.dictionary,chapter:e.chapter,languagePair:e.languagePair}},it)(function(e){var t=Object(n.useState)(""),a=Object(F.a)(t,2),c=a[0],o=a[1],i=Object(n.useState)(""),s=Object(F.a)(i,2),u=s[0],l=s[1],d=Object(n.useState)(""),p=Object(F.a)(d,2),f=p[0],g=p[1],h=Object(n.useState)([]),b=Object(F.a)(h,2),v=b[0],y=b[1],E=Object(n.useState)(""),w=Object(F.a)(E,2),O=w[0],A=w[1],x=Object(m.c)().t,N=function(){var t=Object(B.a)(I.a.mark(function t(a){var n,r,c,o;return I.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(n=a.value,r=n.slice(0,2),!((c=n.length)<=1)){t.next=7;break}y([]),t.next=28;break;case 7:if(2!==c){t.next=27;break}if(O===r){t.next=24;break}return A(r),t.prev=10,t.next=13,pe.getFiltered(r,e.languagePair.source,e.languagePair.target);case 13:o=t.sent,e.setDictionary(o),y(o),t.next=22;break;case 18:t.prev=18,t.t0=t.catch(10),console.log(t.t0.response),e.displayNotification({message:x("ErrorWhenFetchingWords"),messageType:"danger"});case 22:t.next=25;break;case 24:y(ce(e.dictionary,n));case 25:t.next=28;break;case 27:y(ce(e.dictionary,n));case 28:case"end":return t.stop()}},t,null,[[10,18]])}));return function(e){return t.apply(this,arguments)}}(),j={placeholder:x("SearchPlaceholder"),value:c,onChange:function(e,t){var a=t.newValue;o(a)}},C={container:"autosuggest",input:"form-control",suggestionsContainer:"dropdown",suggestionsList:"dropdown-menu ".concat(v.length?"show":""),suggestion:"dropdown-item",suggestionFocused:"active"},k=function(){var t=Object(B.a)(I.a.mark(function t(a){var n,r,i;return I.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(a.preventDefault(),!(f&&c||(e.displayNotification({message:x("ChooseWordFromDictionary"),messageType:"danger"}),0))){t.next=21;break}return n={word:f,chapter:e.chapter.id,token:u,frequency:1},t.prev=3,t.next=6,Ie.create(n);case 6:r=t.sent,e.addChapterWord(r),o(""),l(""),A(""),g(""),e.close(),i=x("AddedWord"),e.displayNotification({message:"".concat(i," ").concat(r.lemma),messageType:"success"}),t.next=21;break;case 17:t.prev=17,t.t0=t.catch(3),console.log(t.t0.response),e.displayNotification({message:x("ErrorWhenSaving"),messageType:"danger"});case 21:case"end":return t.stop()}},t,null,[[3,17]])}));return function(e){return t.apply(this,arguments)}}();return r.a.createElement(X.a,{show:e.modal,onHide:e.close,"data-cy":"add-word-modal"},r.a.createElement(X.a.Header,{closeButton:!0},r.a.createElement(X.a.Title,null,x("AddWordToVocabulary"))),r.a.createElement(X.a.Body,null,r.a.createElement(G.a,{onSubmit:k},r.a.createElement(T,null),r.a.createElement(G.a.Group,{controlId:"formGroupWord"},r.a.createElement(G.a.Label,null,x("WordLabel"),":"),r.a.createElement(ot.a,{suggestions:v,onSuggestionsFetchRequested:N,onSuggestionsClearRequested:function(){y([])},getSuggestionValue:function(e){return g(e.id),e.lemma},renderSuggestion:function(e){return r.a.createElement("div",null,r.a.createElement("b",null,e.lemma)," ",e.translation)},inputProps:j,theme:C})),r.a.createElement(G.a.Group,{controlId:"formGroupTokens"},r.a.createElement(G.a.Label,null,x("WordForms"),":"),r.a.createElement(G.a.Control,{type:"text","data-cy":"word-form-field",onChange:function(e){var t=e.target;return l(t.value)}})),r.a.createElement(U.a,{variant:"outline-primary",type:"submit"},x("SubmitWordButton")))))}),ut={initializeChapter:_e,publishChapter:function(){return{type:"PUBLISH_CHAPTER"}},resetChapter:function(){return{type:"RESET_CHAPTER"}},updateChapterWord:Le,removeChapterWord:Me,initializeMyVocabulary:Qe,addWordToMyVocabulary:function(e){return{type:"NEW_MY_WORD",data:e}},updateMyVocabulary:Je,setWord:ge,resetWord:he,displayNotification:ve,openModal:Ee,closeModal:we,newSearch:Ne},lt=Object(h.e)(Object(i.b)(function(e){return{chapter:e.chapter,search:e.search,word:e.word,user:e.user,myVocabulary:e.myVocabulary}},ut)(function(e){var t=Object(n.useState)(!1),a=Object(F.a)(t,2),c=a[0],o=a[1],i=Object(n.useState)(!1),s=Object(F.a)(i,2),u=s[0],l=s[1],d=Object(n.useState)(""),p=Object(F.a)(d,2),f=p[0],g=p[1],h=Object(n.useState)(""),b=Object(F.a)(h,2),y=b[0],E=b[1],w=Object(n.useState)(null),A=Object(F.a)(w,2),x=A[0],N=A[1],j=Object(n.useState)(!1),C=Object(F.a)(j,2),k=C[0],S=C[1],T=Object(n.useState)(!0),W=Object(F.a)(T,2),P=W[0],R=W[1],L=Object(n.useState)(!1),M=Object(F.a)(L,2),_=M[0],D=M[1],G=Object(n.useState)([]),z=Object(F.a)(G,2),J=z[0],Q=z[1],Y=Object(m.c)().t;Object(n.useEffect)(function(){!function(){var t=Object(B.a)(I.a.mark(function t(){return I.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return o(!0),t.prev=1,t.next=4,e.initializeChapter(e.id);case 4:t.next=9;break;case 6:t.prev=6,t.t0=t.catch(1),console.log(t.t0.response);case 9:o(!1);case 10:case"end":return t.stop()}},t,null,[[1,6]])}));return function(){return t.apply(this,arguments)}}()()},[]),Object(n.useEffect)(function(){e.user.id&&e.initializeMyVocabulary(e.user.id)},[]);var K=function(t){e.setWord(t),e.openModal()},X=function(){var t=Object(B.a)(I.a.mark(function t(){var a,n,r;return I.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(!e.user.id||!e.word.word_id){t.next=25;break}if(a={user:e.user.id,word:e.word.word_id,learned:e.word.learned},!(n=e.myVocabulary.find(function(t){return t.word_id===e.word.word_id}))){t.next=15;break}return t.prev=4,t.next=7,Ke.update(n.id,a);case 7:e.updateMyVocabulary(e.word),t.next=13;break;case 10:t.prev=10,t.t0=t.catch(4),console.log(t.t0.response);case 13:t.next=25;break;case 15:return t.prev=15,t.next=18,Ke.create(a);case 18:r=t.sent,e.addWordToMyVocabulary(Object(O.a)({},e.word,{id:r.id})),t.next=25;break;case 22:t.prev=22,t.t1=t.catch(15),console.log(t.t1.response);case 25:case"end":return t.stop()}},t,null,[[4,10],[15,22]])}));return function(){return t.apply(this,arguments)}}(),ee=function(){if(0===J.length){var t=e.chapter.words.filter(function(e){return e.selected}),a=Math.floor(Math.random()*t.length);e.setWord(t[a]),t.splice(a,1),Q(t)}else{var n=Math.floor(Math.random()*J.length);e.setWord(J[n]);var r=Object($.a)(J);r.splice(n,1),Q(r)}},te=function(){X(),g(""),N(null),E(""),ee()},ae=function(){e.chapter.words.find(function(e){return e.selected})?R(!1):R(!0)},ne=function(){oe(e.chapter.words,e.search).forEach(function(t){t.selected=!1,e.updateChapterWord(t)}),ae()},re=function(){var t=Object(B.a)(I.a.mark(function t(){var a,n,r,c,o,i,s;return I.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(a=oe(e.chapter.words,e.search),n=a.filter(function(e){return e.selected}),r=n.map(function(e){return e.lemma}),c=n.map(function(e){return e.id}),o=r[0],r.length>1&&(r.shift(),o=r.reduce(function(e,t){return"".concat(e,", ").concat(t)},o)),i=Y("ConfirmRemove"),!window.confirm("".concat(i," ").concat(o,"?"))){t.next=19;break}return t.prev=8,t.next=11,Ie.removeMany(c);case 11:n.forEach(function(t){e.removeChapterWord(t)}),n.length>0&&(s=Y("WordsRemovedMessage"),e.displayNotification({message:"".concat(s," ").concat(o),messageType:"success"}),R(!0)),t.next=19;break;case 15:t.prev=15,t.t0=t.catch(8),console.log(t.t0.response),404===t.t0.response.request.status?(n.forEach(function(t){e.removeChapterWord(t)}),R(!0)):(e.displayNotification({message:Y("RemovingFailed"),messageType:"danger"}),R(!1));case 19:case"end":return t.stop()}},t,null,[[8,15]])}));return function(){return t.apply(this,arguments)}}(),ce=function(){var t=Object(B.a)(I.a.mark(function t(){var a;return I.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return a={public:!0},t.prev=1,t.next=4,Re.update(e.chapter.id,a);case 4:e.publishChapter(),e.displayNotification({message:Y("PublishSucceeded"),messageType:"success"}),t.next=12;break;case 8:t.prev=8,t.t0=t.catch(1),console.log(t.t0.response),e.displayNotification({message:Y("PublishFailed"),messageType:"danger"});case 12:case"end":return t.stop()}},t,null,[[1,8]])}));return function(){return t.apply(this,arguments)}}(),ie=function(){var t=Object(B.a)(I.a.mark(function t(){var a,n;return I.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(a=Y("ConfirmRemove"),!window.confirm("".concat(a," ").concat(e.chapter.title,"?"))){t.next=15;break}return t.prev=2,t.next=5,Re.remove(e.chapter.id);case 5:e.resetChapter(),n=Y("RemovalSucceeded"),e.displayNotification({message:"".concat(n," ").concat(e.chapter.title),messageType:"success"}),e.history.push("/chapters"),t.next=15;break;case 11:t.prev=11,t.t0=t.catch(2),console.log(t.t0.response),e.displayNotification({message:Y("RemovalFailed"),messageType:"danger"});case 15:case"end":return t.stop()}},t,null,[[2,11]])}));return function(){return t.apply(this,arguments)}}();return c?r.a.createElement(H.a,{animation:"border"},r.a.createElement("span",{className:"sr-only"},Y("Loading"))):e.chapter.id?e.user.id===e.chapter.created_by||e.chapter.public?r.a.createElement(n.Fragment,null,r.a.createElement(v.a,null,r.a.createElement(V.a,{lg:7,md:6,sm:6,xl:7,xs:6},r.a.createElement("div",{id:"chapterContainer",className:"mb-2"},r.a.createElement("h1",{"data-cy":"chapter-title"},e.chapter.title),r.a.createElement("p",{"data-cy":"chapter-body"},e.chapter.body))),r.a.createElement(V.a,{lg:5,md:6,sm:6,xl:5,xs:6},r.a.createElement("div",{id:"vocabularyContainer",className:"mb-2"},r.a.createElement("div",{id:"stickyWithPadding",className:"stickyContainer"},r.a.createElement("h2",{"data-cy":"vocabulary-title"},Y("VocabularyTitle")),r.a.createElement(Z.a,{className:"mb-2"},r.a.createElement(He,{selectAll:function(){oe(e.chapter.words,e.search).forEach(function(t){t.selected=!0,e.updateChapterWord(t)}),ae()},selectNothing:ne,selectLearned:function(){ne(),oe(e.chapter.words,e.search).filter(function(e){return e.learned}).forEach(function(t){t.selected=!0,e.updateChapterWord(t)}),ae()},selectNotLearned:function(){ne(),oe(e.chapter.words,e.search).filter(function(e){return!e.learned}).forEach(function(t){t.selected=!0,e.updateChapterWord(t)}),ae()},size:"sm"}),r.a.createElement(U.a,{variant:"outline-primary",className:"mr-1","data-cy":"practice-words-button",disabled:P,onClick:function(){ee(),e.newSearch("   "),l(!0)},size:"sm"},Y("PracticeWordsButton"))),r.a.createElement(Pe,null)),r.a.createElement("div",{id:"vocabulary"},r.a.createElement(q,{words:oe(e.chapter.words,e.search),showDetails:K,selectable:"true",toggleChecked:function(t){var a=Number(t.target.name),n=e.chapter.words.find(function(e){return e.id===a});n.selected=!n.selected,ae(),e.updateChapterWord(n)}})),r.a.createElement(Fe,{close:function(){e.resetWord(),e.closeModal()},showNext:function(t){var a,n=oe(e.chapter.words,e.search),r=n.findIndex(function(t){return t.id===e.word.id}),c=t.target.name;"next"===c?a=r===n.length-1?0:r+1:"previous"===c&&(a=0===r?n.length-1:r-1),e.resetWord(),K(n[a])},displayToken:!0,edit:e.chapter.created_by===e.user.id}),r.a.createElement(Ve,{word:e.word,myTry:f,check:x,solution:y,practicing:u,disabled:k,stopPracticing:function(){X(),e.resetWord(),g(""),N(null),E(""),e.newSearch(""),Q([]),l(!1)},next:te,checkWord:function(t){if(t.preventDefault(),e.word.lemma.toLowerCase()===f.toLowerCase()){N(Xe.a);var a=Object(O.a)({},e.word);a.learned=!0,e.setWord(a),e.updateChapterWord(a)}else N($e.a),S(!0),E(e.word.lemma),setTimeout(function(){E(""),S(!1),te()},1e3)},change:function(e){g(e.target.value)}})))),r.a.createElement(v.a,null,r.a.createElement(V.a,{lg:7,md:7,sm:7,xl:7,xs:7},r.a.createElement(Z.a,null,r.a.createElement(U.a,{variant:"outline-primary",className:"mr-1","data-cy":"return-to-chapters-button",onClick:function(){e.history.push("/chapters")}},Y("ReturnButton")),e.chapter.created_by!==e.user.id||e.chapter.public?null:r.a.createElement(U.a,{variant:"outline-primary",className:"mr-1","data-cy":"publish-chapter-button",onClick:ce},Y("PublishChapterButton")),e.chapter.created_by===e.user.id?r.a.createElement(n.Fragment,null,r.a.createElement(U.a,{variant:"outline-primary",className:"mr-1","data-cy":"edit-chapter-button",href:"/edit/".concat(e.chapter.id)},Y("EditChapterButton")),r.a.createElement(U.a,{variant:"outline-danger",className:"mr-1","data-cy":"remove-chapter-button",onClick:ie},Y("RemoveButton"))):null)),r.a.createElement(V.a,{lg:5,md:5,sm:5,xl:5,xs:5},e.chapter.created_by===e.user.id?r.a.createElement(n.Fragment,null,r.a.createElement(st,{modal:_,close:function(){return D(!1)}}),r.a.createElement(Z.a,null,r.a.createElement(U.a,{variant:"outline-primary",className:"mr-1","data-cy":"add-word-button",onClick:function(){return D(!0)}},Y("AddWordFromDictionaryButton")),r.a.createElement(U.a,{variant:"outline-danger",className:"mr-1","data-cy":"remove-words-button",disabled:P,onClick:re},Y("RemoveSelectedWordsButton")))):null))):r.a.createElement("h2",null,Y("Unauthorized")):null}));te.a.defaults.xsrfHeaderName="X-CSRFTOKEN",te.a.defaults.xsrfCookieName="csrftoken",te.a.defaults.withCredentials=!0;var dt={login:function(){var e=Object(B.a)(I.a.mark(function e(t){var a;return I.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,te.a.post("/api/token/",t);case 2:return a=e.sent,e.abrupt("return",a.data);case 4:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}()},pt=function(e){return{type:"SET_USER",data:e}},mt=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"SET_USER":return Object(O.a)({},t.data);case"RESET":return{};default:return e}},ft={setUser:pt,displayNotification:ve},gt=Object(h.e)(Object(i.b)(function(e){return{user:e.user}},ft)(function(e){var t=Object(n.useState)(""),a=Object(F.a)(t,2),c=a[0],o=a[1],i=Object(n.useState)(""),s=Object(F.a)(i,2),u=s[0],l=s[1],d=Object(m.c)().t,p=function(){var t=Object(B.a)(I.a.mark(function t(a){var n,r;return I.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(a.preventDefault(),!(c.length<1||u.length<1)){t.next=5;break}e.displayNotification({message:d("WrongCredentials"),messageType:"danger"}),t.next=20;break;case 5:return t.prev=5,t.next=8,dt.login({username:c,password:u});case 8:n=t.sent,r={username:c,token:n.token,id:n.id},window.localStorage.setItem("loggedVocabularyUser",JSON.stringify(r)),e.setUser(r),o(""),l(""),e.history.push("/chapters"),t.next=20;break;case 17:t.prev=17,t.t0=t.catch(5),e.displayNotification({message:d("WrongCredentials"),messageType:"danger"});case 20:case"end":return t.stop()}},t,null,[[5,17]])}));return function(e){return t.apply(this,arguments)}}();return r.a.createElement(n.Fragment,null,r.a.createElement(v.a,null,r.a.createElement(V.a,null),r.a.createElement(V.a,{lg:4,md:4,sm:10,xl:4,xs:10},r.a.createElement("h2",null,d("LoginTitle")),r.a.createElement(G.a,{onSubmit:p},r.a.createElement(G.a.Control,{className:"mb-2",type:"text",value:c,placeholder:d("Username"),name:"Username",id:"usernameField",onChange:function(e){var t=e.target;return o(t.value)}}),r.a.createElement(G.a.Control,{className:"mb-2",type:"password",value:u,placeholder:d("Password"),name:"Password",id:"passwordField",onChange:function(e){var t=e.target;return l(t.value)}}),r.a.createElement(U.a,{className:"mb-2",variant:"outline-primary",id:"loginButton",type:"submit"},d("LoginButton")))),r.a.createElement(V.a,null)))})),ht={resetUser:function(){return{type:"RESET"}}},bt=Object(h.e)(Object(i.b)(null,ht)(function(e){return Object(n.useEffect)(function(){window.localStorage.removeItem("loggedVocabularyUser"),e.resetUser(),e.history.push("/chapters")},[]),r.a.createElement("div",null,"Logging out")})),vt={register:function(){var e=Object(B.a)(I.a.mark(function e(t){var a;return I.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,te.a.post("".concat("/api/register/"),t);case 2:return a=e.sent,e.abrupt("return",a.data);case 4:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}()},yt={displayNotification:ve},Et=Object(h.e)(Object(i.b)(null,yt)(function(e){var t=Object(n.useState)(""),a=Object(F.a)(t,2),c=a[0],o=a[1],i=Object(n.useState)(""),s=Object(F.a)(i,2),u=s[0],l=s[1],d=Object(n.useState)(""),p=Object(F.a)(d,2),f=p[0],g=p[1],h=Object(m.c)().t,b=function(){var t=Object(B.a)(I.a.mark(function t(a){return I.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(a.preventDefault(),!(c.length>150?(e.displayNotification({message:h("UsernameCharacterLimitMessage"),messageType:"danger"}),0):c?u?u===f||(e.displayNotification({message:h("PasswordsAreDifferentMessage"),messageType:"danger"}),0):(e.displayNotification({message:h("PasswordMissingMessage"),messageType:"danger"}),0):(e.displayNotification({message:h("UsernameMissingMessage"),messageType:"danger"}),0))){t.next=15;break}return t.prev=2,t.next=5,vt.register({username:c,password:u});case 5:o(""),l(""),g(""),e.displayNotification({message:h("UserRegisteredSuccessfully"),messageType:"success"}),e.history.push("/login"),t.next=15;break;case 12:t.prev=12,t.t0=t.catch(2),e.displayNotification({message:t.t0.response.data.username[0],messageType:"danger"});case 15:case"end":return t.stop()}},t,null,[[2,12]])}));return function(e){return t.apply(this,arguments)}}();return r.a.createElement(n.Fragment,null,r.a.createElement(v.a,null,r.a.createElement(V.a,null),r.a.createElement(V.a,{lg:4,md:4,sm:10,xl:4,xs:10},r.a.createElement("h2",null,h("RegisterTitle")),r.a.createElement(G.a,{onSubmit:b},r.a.createElement(G.a.Control,{className:"mb-2",type:"text",value:c,placeholder:h("Username"),name:"Username",onChange:function(e){var t=e.target;return o(t.value)}}),r.a.createElement(G.a.Control,{className:"mb-2",type:"password",value:u,placeholder:h("Password"),name:"Password1",onChange:function(e){var t=e.target;return l(t.value)}}),r.a.createElement(G.a.Control,{className:"mb-2",type:"password",value:f,placeholder:h("PasswordAgain"),name:"Password2",onChange:function(e){var t=e.target;return g(t.value)}}),r.a.createElement(U.a,{className:"mb-2",variant:"outline-primary",type:"submit"},h("RegisterButton")))),r.a.createElement(V.a,null)))})),wt=function(e){var t=Object(m.c)().t;return r.a.createElement(G.a,{onSubmit:e.saveChapter},r.a.createElement(G.a.Control,{className:"my-2",type:"text",placeholder:t("TitlePlaceholder"),value:e.title,"data-cy":"chapter-title-field",onChange:function(t){return e.setTitle(t)}}),r.a.createElement(G.a.Control,{as:"textarea",rows:"18",placeholder:t("TextareaPlaceholder"),value:e.textArea,"data-cy":"chapter-body-field",onChange:function(t){return e.setText(t)}}),r.a.createElement(Z.a,{className:"my-2"},r.a.createElement(U.a,{type:"submit",className:"mr-1",variant:"outline-primary"},t("SaveChapterButton")),r.a.createElement(U.a,{onClick:e.cancel,className:"mr-1",variant:"outline-primary","data-cy":"cancel-new-chapter-button"},t("CancelButton"))))},Ot={displayNotification:ve},At=Object(h.e)(Object(i.b)(function(e){return{user:e.user,chapter:e.chapter,languagePair:e.languagePair}},Ot)(function(e){var t=Object(n.useState)(""),a=Object(F.a)(t,2),c=a[0],o=a[1],i=Object(n.useState)(""),s=Object(F.a)(i,2),u=s[0],l=s[1],d=Object(n.useState)(!1),p=Object(F.a)(d,2),f=p[0],g=p[1],b=Object(m.c)().t,y=function(){var t=Object(B.a)(I.a.mark(function t(a){var n,r;return I.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return a.preventDefault(),n={title:c,body:u,source_lang:e.languagePair.source,target_lang:e.languagePair.target,created_by:e.user.id,public:!1},t.prev=2,g(!0),t.next=6,Re.create(n);case 6:r=t.sent,o(""),l(""),g(!1),e.history.push("/chapters/".concat(r.id)),t.next=18;break;case 13:t.prev=13,t.t0=t.catch(2),g(!1),console.log(t.t0.response),503===t.t0.response.status?(e.displayNotification({message:b("ChapterCreationFailedMemoryLimitation"),messageType:"danger"}),e.history.push("/chapters/")):e.displayNotification({message:b("ChapterCreationFailed"),messageType:"danger"});case 18:case"end":return t.stop()}},t,null,[[2,13]])}));return function(e){return t.apply(this,arguments)}}();return e.user.id?r.a.createElement(v.a,null,r.a.createElement(V.a,{lg:8,md:8,sm:12,xl:8,xs:12},r.a.createElement(wt,{saveChapter:y,cancel:function(){o(""),l(""),e.history.push("/chapters")},setText:function(e){l(e.target.value)},setTitle:function(e){o(e.target.value)},title:c,textArea:u}),r.a.createElement(X.a,{size:"sm",show:f,onHide:function(){}},r.a.createElement(X.a.Body,null,r.a.createElement(H.a,{animation:"border","data-cy":"analyzing-spinner"}),b("AnalyzingMessage"))),r.a.createElement("footer",null,r.a.createElement("a",{href:"https://spacy.io"},r.a.createElement("img",{src:"https://img.shields.io/badge/made%20with%20\u2764%20and-spaCy-09a3d5.svg",alt:"made with love and spaCy",height:"20"}))))):r.a.createElement(h.a,{to:"/login"})})),xt={setBody:function(e){return{type:"SET_BODY",data:e}},setTitle:function(e){return{type:"SET_TITLE",data:e}},displayNotification:ve,initializeChapter:_e},Nt=Object(h.e)(Object(i.b)(function(e){return{chapter:e.chapter,user:e.user}},xt)(function(e){var t=Object(n.useState)(!1),a=Object(F.a)(t,2),c=a[0],o=a[1];Object(n.useEffect)(function(){!function(){var t=Object(B.a)(I.a.mark(function t(){return I.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return o(!0),t.next=3,e.initializeChapter(e.id);case 3:o(!1);case 4:case"end":return t.stop()}},t)}));return function(){return t.apply(this,arguments)}}()()},[]);var i=Object(m.c)().t,s=function(){var t=Object(B.a)(I.a.mark(function t(a){var n;return I.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return a.preventDefault(),n={title:e.chapter.title,body:e.chapter.body,modified_by:e.user.id},t.prev=2,t.next=5,Re.update(e.chapter.id,n);case 5:e.displayNotification({message:i("SavingSucceeded"),messageType:"success"}),e.history.push("/chapters/".concat(e.chapter.id)),t.next=13;break;case 9:t.prev=9,t.t0=t.catch(2),console.log(t.t0.reponse),e.displayNotification({message:i("SavingFailed"),messageType:"danger"});case 13:case"end":return t.stop()}},t,null,[[2,9]])}));return function(e){return t.apply(this,arguments)}}();return c?r.a.createElement(H.a,{animation:"border"},r.a.createElement("span",{className:"sr-only"},i("Loading"))):e.chapter.id?e.chapter.created_by!==e.user.id?r.a.createElement("p",null,i("EditingNotAllowed")):r.a.createElement(v.a,null,r.a.createElement(V.a,{lg:8,md:8,sm:12,xl:8,xs:12},r.a.createElement(wt,{saveChapter:s,cancel:function(){e.history.push("/chapters/".concat(e.chapter.id))},title:e.chapter.title,textArea:e.chapter.body,setTitle:function(t){e.setTitle(t.target.value)},setText:function(t){e.setBody(t.target.value)}}))):null})),jt=(a(220),function(){var e=Object(m.c)().t;return r.a.createElement(v.a,null,r.a.createElement("div",{id:"aboutPage"},r.a.createElement("h1",null,e("AboutTitle")),r.a.createElement("p",null,r.a.createElement(m.a,{i18nKey:"AboutUsage"},"What it is used for. Link to ",r.a.createElement(g.b,{to:"/chapters"},"chapters"),".")),r.a.createElement("p",null,r.a.createElement(m.a,{i18nKey:"AboutRegistering"},r.a.createElement(g.b,{to:"/register"},"Register")," link and why to register.",r.a.createElement(g.b,{to:"/myvocabulary"},"My Vocabulary"),".")),r.a.createElement("p",null,e("AboutGeneral")),r.a.createElement("p",null,e("AboutTechnical")),r.a.createElement("ul",null,r.a.createElement("li",null,r.a.createElement("a",{target:"_blank",rel:"noopener noreferrer",href:"https://github.com/atoivanen/vocabulary-frontend"},"vocabulary-frontend")),r.a.createElement("li",null,r.a.createElement("a",{target:"_blank",rel:"noopener noreferrer",href:"https://github.com/atoivanen/vocabulary_backend"},"vocabulary_backend")))))}),Ct={setUser:pt,setLanguagePair:x},kt=Object(i.b)(function(e){return{chapters:e.chapters,languagePair:e.languagePair}},Ct)(function(e){Object(n.useEffect)(function(){var t=window.localStorage.getItem("loggedVocabularyUser");if(t){var a=JSON.parse(t);e.setUser(a)}var n=window.localStorage.getItem("languagePair");if(n){var r=JSON.parse(n);e.setLanguagePair(r)}},[]);var t=function(e){f.changeLanguage(e)};return r.a.createElement(g.a,null,r.a.createElement("div",null,r.a.createElement(n.Suspense,{fallback:"loading"},r.a.createElement(W,{changeLanguage:t},r.a.createElement(h.b,{exact:!0,path:"/",render:function(e){return r.a.createElement(_,Object.assign({},e,{changeLanguage:t}))}}),r.a.createElement(h.b,{exact:!0,path:"/chapters",component:rt}),r.a.createElement(h.b,{exact:!0,path:"/chapters/:id",render:function(e){var t=e.match;return r.a.createElement(lt,{id:t.params.id})}}),r.a.createElement(h.b,{exact:!0,path:"/edit/:id",render:function(e){var t=e.match;return r.a.createElement(Nt,{id:t.params.id})}}),r.a.createElement(h.b,{path:"/new",component:At}),r.a.createElement(h.b,{path:"/dictionary",component:Te}),r.a.createElement(h.b,{path:"/myvocabulary",component:tt}),r.a.createElement(h.b,{path:"/login",component:gt}),r.a.createElement(h.b,{path:"/logout",component:bt}),r.a.createElement(h.b,{path:"/register",component:Et}),r.a.createElement(h.b,{path:"/about",component:jt})))))}),St=a(52),Tt=a(123),Wt=Object(St.c)({dictionary:me,word:be,search:je,notification:ye,modal:Oe,new:xe,chapters:at,chapter:De,user:mt,myVocabulary:Ye,languagePair:N}),Pt=Object(St.d)(Wt,Object(St.a)(Tt.a));o.a.render(r.a.createElement(i.a,{store:Pt},r.a.createElement(kt,null)),document.getElementById("root"))},67:function(e,t){e.exports="data:image/gif;base64,R0lGODlhIAAgAKUAAASCBITChESiRMTixCSSJKTSpGSyZOTy5BSKFJTKlFSqVNTq1DSaNLTatHS6dPT69AyGDIzGjEymTMzmzCyWLKzWrGy2bOz27ByOHJzOnFyuXNzu3DyePLzevHy+fPz+/P///wAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAACH5BAEAACAALAAAAAAgACAAAAbHQJBwSCwai4fO48hsEg8IAKbjrBY/HIAW4Fhaq5HtVvF1LsRbRJn5YaC1nvXR8wYQvPLhpA6Y5IkPBHVxf0MOdRQfhUIDfH6LgXUBi0IWdQyKix18C5QXGHURTA8GDFRNBnUcmUUPWVoNTBV8G0euaBVGn3UJTBp1BUW/bwJNoMBDs28QB00ZfADBF1FvGWDQBRJ1El9h0MsXZQHfuHJ05ABkeefQCOF/7HWxi+N1BpRC9WIYeJT6WgPwEUmwhZDAIQsyBMwTBAA7"},68:function(e,t){e.exports="data:image/gif;base64,R0lGODlhIAAgAOMAAPwCBPzOzPw6PPxKTPzy9PwSFPzW1PxSVPwaHPzS1Pw+PPxOTPwWFPza3PxWVP///yH5BAEAAA8ALAAAAAAgACAAAATH8MlHTpg46zCIpgJQXF8ZFIDgYUQIiGSJnW+6gvU7yhOdq7icLvbxCVUHYW5XRClfhwbiOdw4nwjDwzClMiVGZXbCpcLAV7EWU/YGwsKxpv0spOPrD92s5m27fDlyfnt8g35/gQCHiIlmjI1wQl+ND5JKlH6XdUQym26ad4pnJqI1dmaZaGYMAQkMqZ2fDAkSr7E9pi8MeY6clrqLvRKFSxyPw2SASh0ueDzFNkE1kHPL0hIt1MkldEAsIdUyZd8ZFdyEBzcPEQA7"}},[[124,1,2]]]);
//# sourceMappingURL=main.f574bbbb.chunk.js.map